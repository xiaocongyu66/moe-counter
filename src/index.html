<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Moe Counter</title>
    <meta name="description" content="èŒèŒçš„è®¿å®¢è®¡æ•°å™¨ï¼Œæ”¯æŒå¤šç§é£æ ¼ä¸»é¢˜" />
    <meta name="keywords" content="moe, visitor counter, è®¿å®¢è®¡æ•°å™¨, Cloudflare Workers" />
    <meta name="author" content="æŸƒå¤chapu" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://moe-counter.lxchapu.com/" />
    <meta property="og:title" content="Moe Counter" />
    <meta property="og:description" content="è¿™æ˜¯ä¸€ä¸ªèŒèŒçš„è®¿å®¢è®¡æ•°å™¨ï¼Œå¯ä»¥åµŒå…¥åˆ° Markdownã€ç½‘é¡µæˆ–è€…å…¶ä»–ä»»ä½•åœ°æ–¹ï¼Œæœ‰å¤šç§é£æ ¼å¯é€‰ã€‚" />
    <meta property="og:image" content="https://s2.loli.net/2024/03/05/3XO1azMjC589Fd6.webp" />
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:title" content="Moe Counter" />
    <meta property="twitter:description" content="è¿™æ˜¯ä¸€ä¸ªèŒèŒçš„è®¿å®¢è®¡æ•°å™¨ï¼Œå¯ä»¥åµŒå…¥åˆ° Markdownã€ç½‘é¡µæˆ–è€…å…¶ä»–ä»»ä½•åœ°æ–¹ï¼Œæœ‰å¤šç§é£æ ¼å¯é€‰ã€‚" />
    <meta property="twitter:image" content="https://s2.loli.net/2024/03/05/3XO1azMjC589Fd6.webp" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" />
    <style>
        :root {
            --primary: #ff6b6b;
            --secondary: #4ecdc4;
            --border-radius: 12px;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 2rem 1rem;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 2.5rem;
        }
        
        h1 {
            color: var(--primary);
            text-align: center;
            margin-bottom: 2rem;
            font-weight: 700;
        }
        
        .counter-example {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: var(--border-radius);
        }
        
        .theme-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .theme-card {
            border: 1px solid #e9ecef;
            border-radius: var(--border-radius);
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        
        .theme-card:hover {
            transform: translateY(-5px);
        }
        
        .theme-card img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .theme-name {
            padding: 0.75rem;
            text-align: center;
            background: var(--secondary);
            color: white;
            font-weight: 500;
        }
        
        .generator-box {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin: 2rem 0;
        }
        
        .input-group {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            align-items: center;
        }
        
        #result {
            margin-top: 1rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .notice {
            background: #fff3cd;
            color: #856404;
            padding: 1rem;
            border-radius: var(--border-radius);
            margin: 1rem 0;
        }
        
        footer {
            text-align: center;
            margin-top: 2rem;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ¸ Moe Counter</h1>
        
        <p class="lead">è¿™æ˜¯ä¸€ä¸ªèŒèŒçš„è®¿å®¢è®¡æ•°å™¨ï¼Œå¯ä»¥åµŒå…¥åˆ° Markdownã€ç½‘é¡µæˆ–è€…å…¶ä»–ä»»ä½•åœ°æ–¹ï¼Œæœ‰å¤šç§é£æ ¼å¯é€‰ã€‚</p>
        
        <div class="notice">
            <p>â¤ï¸ æœ¬é¡¹ç›®ä¸º <a href="https://github.com/journey-ad/Moe-Counter" target="_blank">Moe Counter</a> çš„åˆ†æ”¯ç‰ˆæœ¬ï¼ŒåŸºäº <a href="https://workers.cloudflare.com/" target="_blank">Cloudflare Workers</a> æ„å»ºã€‚</p>
            <p><strong>âš ï¸ é‡è¦æç¤ºï¼š</strong>æ•°æ®å…¬å¼€å¯è§ï¼Œè¯·å‹¿è¾“å…¥ä»»ä½•ä¸ªäººä¿¡æ¯ï¼</p>
        </div>
        
        <h2>ä½¿ç”¨æ–¹æ³•</h2>
        <article>
            <h3>SVG åœ°å€</h3>
            <code id="svg-url" class="block">loading...</code>
            
            <h3>HTML ä»£ç </h3>
            <code id="html-code" class="block">loading...</code>
            
            <h3>Markdown ä»£ç </h3>
            <code id="markdown-code" class="block">loading...</code>
        </article>
        
        <div class="counter-example">
            <img id="demo-img" src="" alt="Moe Counter Demo" height="100" />
        </div>
        
        <details>
            <summary><h2 style="display: inline-block">ä¸»é¢˜æ ·å¼</h2></summary>
            <p>åªéœ€åœ¨URLä¸­æ·»åŠ  <code>theme</code> å‚æ•°ï¼Œä¾‹å¦‚ï¼š<code id="theme-example">loading...</code></p>
            
            <div class="theme-gallery">
                <div class="theme-card">
                    <img src="" data-theme="asoul" alt="A-SOUL">
                    <div class="theme-name">A-SOUL</div>
                </div>
                <div class="theme-card">
                    <img src="" data-theme="moebooru" alt="Moebooru">
                    <div class="theme-name">Moebooru</div>
                </div>
                <div class="theme-card">
                    <img src="" data-theme="moebooru-h" alt="Moebooru-Hentai">
                    <div class="theme-name">Moebooru-Hentai</div>
                </div>
                <div class="theme-card">
                    <img src="" data-theme="rule34" alt="Rule34">
                    <div class="theme-name">Rule34 (NSFW)</div>
                </div>
                <div class="theme-card">
                    <img src="" data-theme="gelbooru" alt="Gelbooru">
                    <div class="theme-name">Gelbooru</div>
                </div>
                <div class="theme-card">
                    <img src="" data-theme="gelbooru-h" alt="Gelbooru-Hentai">
                    <div class="theme-name">Gelbooru-Hentai (NSFW)</div>
                </div>
            </div>
        </details>
        
        <div class="generator-box">
            <h2>ç”Ÿæˆä½ çš„è®¡æ•°å™¨</h2>
            <div class="input-group">
                <input id="name" type="text" placeholder="è¾“å…¥è®¡æ•°å™¨åç§°" />
                <select id="theme">
                    <option value="asoul">A-SOUL</option>
                    <option value="moebooru">Moebooru</option>
                    <option value="moebooru-h">Moebooru-Hentai</option>
                    <option value="rule34">Rule34</option>
                    <option value="gelbooru">Gelbooru</option>
                    <option value="gelbooru-h">Gelbooru-Hentai</option>
                </select>
                <button id="get" class="secondary">ç”Ÿæˆ</button>
            </div>
            <code id="generated-url" class="block"></code>
            <img id="result" />
        </div>
        
        <footer>
            <p><a href="https://github.com/lxchapu/moe-counter" target="_blank">æŸ¥çœ‹æºä»£ç </a></p>
            <p>â¤ï¸ æ¬¢è¿è´¡çŒ®ä¸»é¢˜èµ„æº</p>
        </footer>
    </div>

    <script>
        // è‡ªåŠ¨è·å–å½“å‰åŸŸå
        const currentDomain = window.location.origin;
        const basePath = "/:id";
        const defaultTheme = "moebooru";
        
        // æ›´æ–°æ‰€æœ‰URL
        function updateUrls() {
            // æ›´æ–°ç¤ºä¾‹URL
            document.getElementById('svg-url').textContent = currentDomain + basePath;
            document.getElementById('html-code').textContent = 
                `<img src="${currentDomain + basePath}" alt=":id" />`;
            document.getElementById('markdown-code').textContent = 
                `![:id](${currentDomain + basePath})`;
            document.getElementById('theme-example').textContent = 
                `${currentDomain + basePath}?theme=${defaultTheme}`;
            
            // æ›´æ–°demoå›¾ç‰‡
            document.getElementById('demo-img').src = `${currentDomain}/github@moe-counter?theme=asoul`;
            
            // æ›´æ–°ä¸»é¢˜é¢„è§ˆå›¾
            document.querySelectorAll('.theme-card img').forEach(img => {
                const theme = img.dataset.theme;
                img.src = `${currentDomain}/demo?theme=${theme}`;
            });
        }
        
        // ç”Ÿæˆå™¨åŠŸèƒ½
        document.getElementById('get').addEventListener('click', function() {
            const name = document.getElementById('name').value.trim();
            const theme = document.getElementById('theme').value;
            
            if (!name) {
                alert('è¯·è¾“å…¥è®¡æ•°å™¨åç§°');
                return;
            }
            
            const counterUrl = `${currentDomain}/${encodeURIComponent(name)}?theme=${theme}`;
            document.getElementById('generated-url').textContent = counterUrl;
            document.getElementById('result').src = counterUrl;
        });
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', updateUrls);
    </script>
</body>
</html>
